#
# This file is example of rundock scenario file based on yaml format.
#
# -------------------------------------------------------------------
# ###  scenario section  ###
# - node: <nodename>
#   <taskname>:
#     - <task detail>
#     - :
#   <taskname>:
#     - <task detail>
#     - :
# - node: <nodename>
#   :
# ---
# ###  host information section  ###
# <hostname>:
#   host: xxx.xxx.xxx.xxx
#   <other_attributes>:
#     :
# <hostname>:
#   :
# ---
# ###  task information section  ###
# <taskname>:
#   - "<actual command>"
#   - :
# <taskname>:
#   :
# -------------------------------------------------------------------
#

- node: 127.0.0.1
  command:
    - "hostname"
    - "uname -a"
- node: anyhost-01
  task:
    - echo_platform
    - echo_users
  command:
    - errexit: true
    - "rm /tmp/riskyfile"
    - errexit: false
    - "rm /tmp/safetyfile"
    - "ls -1 /tmp"
---
- anyhost-01:
  host: 192.168.1.11
  ssh_opts:
    port: 22
    user: anyuser
- anyhost-02:
  host: 192.168.1.12
---
echo_platform:
  command:
    - "hostname"
    - "uname -a"
echo_users:
  command:
    - "whoami"
    - "w"
